# * Settings marked with * are advanced settings that won't appear in the Streamlit page and can only be modified manually in config.py
# recommend to set in streamlit page
# -------------------
# version: "3.0.0"
# author: "Huanshere"
# -------------------

## ======================== Basic Settings ======================== ##

display_language: "zh-CN"

# API settings
api:
  key: 'DEEPSEEK_API_KEY'
  base_url: 'http://localhost:8088/v1'
  model: 'deepseek-chat'

# API settings for different functions
api_split:
  key: 'DEEPSEEK_API_KEY'
  base_url: 'http://localhost:8088/v1'
  model: 'deepseek-chat'

api_summary:
  key: 'DEEPSEEK_API_KEY'
  base_url: 'http://localhost:8088/v1'
  model: 'deepseek-chat'

api_translate:
  key: 'DEEPSEEK_API_KEY'
  base_url: 'http://localhost:8088/v1'
  model: 'deepseek-chat'

api_reflection:
  key: 'DEEPSEEK_API_KEY'
  base_url: 'http://localhost:8088/v1'
  model: 'deepseek-chat'

# *Number of LLM multi-threaded accesses, set to 1 if using local LLM
max_workers: 8

# Language settings, written into the prompt, can be described in natural language
target_language: '简体中文'


asr:
  # ASR (Automatic Speech Recognition) specified recognition language ISO 639-1
  language: 'en'
  # ASR running mode ["gemini", "parakeet"]. Specifies where to run
  # - gemini: Cloud API (multilingual including Chinese, requires API key)
  # - parakeet: Local model (NVIDIA GPU required, 25 European languages only, auto language detection)
  #   Supported: bg, hr, cs, da, nl, en, et, fi, fr, de, el, hu, it, lv, lt, mt, pl, pt, ro, sk, sl, es, sv, ru, uk
  runtime: 'parakeet'

# Vocal separation for noisy environments
vocal_separation:
  enabled: true   # Enable vocal separation to improve ASR accuracy in noisy environments

# Transcript only mode (skip translation)
transcript_only: false  # Skip translation process, only generate source subtitles


## ======================== Advanced Settings ======================== ##

# Original text length limit (for sentence splitting)
# For space-separated languages: word count
# For non-space languages: character count
origin_length:
  en: 25
  ja: 28
  zh: 25
  ko: 22
  es: 25
  fr: 25
  de: 22
  it: 25
  ru: 22

# Translation text length limit (for subtitle generation)
# For space-separated languages: word count
# For non-space languages: character count
translate_length:
  en: 12
  zh: 16
  ja: 18
  ko: 18
  es: 12
  fr: 12
  de: 10
  it: 12
  ru: 10

# Split ratio (hard limit = soft limit × ratio, rounded up)
split_ratio:
  en: 1.3
  ja: 1.3
  zh: 1.3
  ko: 1.3
  es: 1.3
  fr: 1.3
  de: 1.2
  it: 1.3
  ru: 1.2

# *Summary length, set low to 2k if using local LLM
summary_length: 8000

# *Whether to reflect the translation result in the original text
reflect_translate: true

# *Pause-based sentence split threshold (seconds). When time gap between consecutive words exceeds this value, a new batch is forced. Set to null or 0 to disable.
pause_split_threshold: 2.5

# *Whether to pause after extracting professional terms and before translation, allowing users to manually adjust the terminology table output\log\terminology.json
pause_before_translate: false

# *spaCy model mapping for different languages
spacy_model_map:
  en: 'en_core_web_lg'
  zh: 'zh_core_web_lg'
  ja: 'ja_core_news_lg'
  ko: 'ko_core_news_lg'
  es: 'es_core_news_lg'
  fr: 'fr_core_news_lg'
  de: 'de_core_news_lg'
  it: 'it_core_news_lg'
  ru: 'ru_core_news_lg'






## ======================== Additional settings ======================== ##

# ASR model directory
model_dir: './_model_cache'

# Supported upload video formats
allowed_video_formats:
- 'mp4'
- 'mov'
- 'avi'
- 'mkv'
- 'flv'
- 'wmv'
- 'webm'

allowed_audio_formats:
- 'wav'
- 'mp3'
- 'flac'
- 'm4a'

# Languages that use space as separator
language_split_with_space:
- 'en'
- 'es'
- 'fr'
- 'de'
- 'it'
- 'ru'

# Languages that do not use space as separator
language_split_without_space:
- 'zh'
- 'ja'
- 'ko'
